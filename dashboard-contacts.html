<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/63380e220c.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Dashboard</title>
  </head>

  <body>
    <!-- J'ai rajouté un form -->
    <form
      action="/COGIP/backend/api.php/contact_new"
      method="post"
      id="contactForm"
      enctype="multipart/form-data"
    >
      <div class="flex w-full h-min">
        <div class="flex flex-col w-[15%] items-center justify-center">
          <div class="flex flex-col items-center m-0 h-min p-[5%]">
            <img
              class="rounded-full w-24 h-24 p-2"
              src="./assets/img/IMG_0808-removebg-preview.png"
            />
            <div class="flex flex-col h-full text-[12px]">
              <div>Thomas</div>
              <div>Scozzari</div>
            </div>
          </div>
          <div
            class="h-px w-full border-t-2 mb-6"
            style="color: rgba(115, 115, 115, 1)"
          ></div>
          <div class="h-5/6 p-[5%]">
            <ul class="flex flex-col">
              <li class="flex flex-col mb-2">
                <svg
                  class="self-center"
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M7.0968 6.03223V21.2903" stroke="#9698D6" />
                  <rect
                    x="0.5"
                    y="0.5"
                    width="21"
                    height="21"
                    rx="2.5"
                    stroke="#9698D6"
                  />
                  <path d="M0.354858 6.03223H21.2903" stroke="#9698D6" />
                </svg>
                <a href="dashboard.html" class="text-[10px] self-center">
                  Dashboard</a
                >
              </li>
              <li class="flex flex-col mb-2">
                <svg
                  class="self-center"
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M3.88232 11H17.4706" stroke="#9698D6" />
                  <path d="M3.88232 16.8235H17.4706" stroke="#9698D6" />
                  <path d="M3.88232 7.11768H7.76468" stroke="#9698D6" />
                  <rect
                    x="0.5"
                    y="0.5"
                    width="21"
                    height="21"
                    rx="2.5"
                    stroke="#9698D6"
                  />
                </svg>
                <a
                  href="dashboard-invoices.html"
                  class="text-[10px] self-center"
                >
                  Invoices</a
                >
              </li>
              <li class="flex flex-col mb-2">
                <svg
                  class="self-center"
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.82355 10.353H7.76472M5.82355 14.2354H7.76472M12.2941 8.41187H15.5294M12.2941 11.6472H15.5294M12.2941 14.2354H15.5294"
                    stroke="#9698D6"
                  />
                  <path
                    d="M1.29407 16.8236H20.7058M3.8823 16.8236V7.11768H7.1176H10.3529V16.8236H3.8823Z"
                    stroke="#9698D6"
                  />
                  <path
                    d="M10.353 7.62853V5.17651H18.1177V16.8236"
                    stroke="#9698D6"
                  />
                  <rect
                    x="0.5"
                    y="0.5"
                    width="21"
                    height="21"
                    rx="2.5"
                    stroke="#9698D6"
                  />
                </svg>
                <a
                  href="dashboard-companies.html"
                  class="text-[10px] self-center"
                >
                  Companies</a
                >
              </li>
              <li class="flex flex-col">
                <svg
                  class="self-center"
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="0.5"
                    y="0.5"
                    width="21"
                    height="21"
                    rx="2.5"
                    stroke="#9698D6"
                  />
                  <path
                    d="M16.8235 18.1176H5.17645V11.647L11 12.9411L16.8235 11.647V18.1176Z"
                    stroke="#9698D6"
                  />
                  <circle cx="11" cy="8.41174" r="4.02941" stroke="#9698D6" />
                </svg>
                <a
                  href="dashboard-contacts.html"
                  class="text-[10px] self-center font-bold"
                >
                  Contacts</a
                >
              </li>
            </ul>
          </div>
          <div
            class="h-px w-full border-t-2"
            style="color: rgba(115, 115, 115, 1)"
          ></div>
          <div class="flex flex-col justify-between p-2 h-min">
            <img
              class="rounded-full w-8 h-8"
              src="./assets/img/IMG_0808-removebg-preview.png"
            />
            <button class="text-[10px]">Logout</button>
          </div>
        </div>
        <div
          class="flex flex-col w-[85%] bg-slate-100 border-l-2 p-8 h-full pt-0"
        >
          <div class="flex flex-col max-h-[20%]">
            <img
              src="./assets/img/Pasted Graphic.png"
              class="md:absolute md:top-0 md:right-0 md:w-auto md:max-w-[20%] min-h-[20%] hidden md:block"
            />
            <div class="flex flex-col h-full max-h-52 p-12">
              <div class="text-3xl font-black">Dashboard</div>
              <div>dashboard/new-contact</div>
            </div>
            <div
              class="flex flex-col h-full max-h-52 bg-indigo-300 rounded-md w-full justify-center"
            >
              <div
                class="w-full flex flex-col text-justify items-center p-12 md:w-1/2"
              >
                <div class="text-4xl text-bold text-white h-fit">
                  Welcome back Thomas!
                </div>
                <div class="text-white text-base h-fit">
                  You can here add an invoice, a company and some contacts
                </div>
              </div>
            </div>
          </div>

          <div class="flex flex-col">
            <div class="flex flex-col bg-white p-10 mt-16 rounded-md">
              <h1 class="font-bold">New contact</h1>
              <div
                class="h-px w-full border-t-2 mt-8 mb-2"
                style="color: rgba(115, 115, 115, 1)"
              ></div>
              <form class="flex flex-col" method="post" action="">
                <input
                  id="contacts_name"
                  name="name"
                  class="bg-slate-100 mt-11 p-2"
                  type="text"
                  placeholder="Name"
                />
                <label for="name"></label>
                <input
                  id="contacts_phone"
                  name="phone"
                  class="bg-slate-100 mt-11 p-2"
                  type="text"
                  placeholder="Phone"
                />
                <label for="phone"></label>
                <input
                  id="contacts_mail"
                  name="mail"
                  class="bg-slate-100 mt-11 p-2"
                  type="text"
                  placeholder="Mail"
                />
                <label for="mail"></label>
                <select
                  id="contacts_companyName"
                  name="company-name"
                  class="bg-slate-100 mt-11 p-2"
                  type="text"
                  placeholder="Company name"
                >
                  <script>
                    fetch("./backend/api.php/companies")
                      .then((response) => {
                        if (!response.ok) {
                          throw new Error("bip bip error");
                        }
                        return response.json();
                      })
                      .then((companies) => {
                        let selectElement = document.getElementById(
                          "contacts_companyName"
                        );
                        companies.forEach((company) => {
                          let option = document.createElement("option");
                          option.value = company.id;
                          option.textContent = company.name;
                          selectElement.appendChild(option);
                        });
                      })
                      .catch((error) =>
                        console.error(
                          "Erreur lors de la récupération des types :",
                          error
                        )
                      );
                  </script>
                </select>
                <label for="company-name"></label>
                <input
                  id="contacts_date"
                  name="date"
                  class="bg-slate-100 mt-11 p-2"
                  type="date"
                  placeholder="Date"
                />
                <label for="date"></label>
                <input
                  class="bg-indigo-300 mt-11 w-full text-left p-2"
                  type="submit"
                  value="Save"
                />
              </form>
            </div>
          </div>
        </div>
      </div>
    </form>
  </body>
</html>
